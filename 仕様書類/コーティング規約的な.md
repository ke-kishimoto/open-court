# 処理の流れ
* .htaccessによって全てのリクエストが一度root直下のindex.phpを通るようになっている。
* index.phpでは、リクエストで送られてきたURLによってコントローラの処理を呼び分けている。
* 呼び出すメソッドは、/コントローラ名/メソッド名 となる。
    コントローラ名は(コントローラクラス名 - Controller)となる。
    ただしURL上は先頭を小文字にする。
* 管理者用のメニューの場合は、/admin/コントローラ名/メソッド名 となる。


# フォルダ構成
* controller：viewからのリクエストを受け取るクラス
* resource：CSS、JS、画像ファイル
* model
    * dao：テーブルに対応したDAO
    * entity：テーブルに対応したエンティティ
* service：サービスクラス
* test：phpunitのテストケース
* vendor：composerから自動でインストールされるライブラリ
* view：ブラウザに表示される部分


# コーディング規約
* テーブル
    * id, delete_flg, register_date, update_dateの4つを全てのテーブルで共通カラムとする。
    * 全テーブル主キーはidとする。
        serial型にして自動採番とし、インサート時には値をセットしない。
    * 論理削除に対応できるように全てのテーブルにdelete_flgを追加する。
        テーブルによっては物理削除でも良い。
        処理共通化の都合上、物理削除するテーブルでもとりあえずdelete_flgのカラムを追加する。
    * 全てのテーブルで更新日時を保持する。
        新規同登録時にはregister_dateに、更新時にはupdate_dateに自動的に日時をセットする。
    * その他のカラムについてはテーブル毎に必要なカラムを適宜セットする。

* Entity
    * Daoでテーブルを更新する際のデータの入れ物として使用。
    * クラス名はテーブル名に対応したキャメルケース（先頭大文字）。
    * 名前空間はentityとする。
    * BaseEntityを継承する。
    * 対応するテーブルに対応したカラムをプロパティとして定義する。
    * プロパティ名はキャメルケースで。

* Dao
    * テーブルアクセスに関する処理を担当。
    * 基本的にはテーブルに対して１つ作成。必要に応じてクラスを分割する。
    * BaseDaoを継承する。
    * 基本的なinsert, update, delete, selectはBaseDaoのメソッドで実現可能。
    * 特別なSQLが必要な場合にメソッドを追加して対応する。
    * PHPUnitでテストケースを作成してテストする。

* Service
    * ControllerとDaoの橋渡しの処理をするクラス。
    * 必要なければ使用しなくても良い。
    * 複数のテーブルを跨ぐ複雑な処理が発生する場合などに使用する。
    * PHPUnitでテストできるように、$_GET、$_POSTなどのリクエストを受け取る処理はしない様にする。
        基本的にはメソッドの引数から受け取った値で全て処理できるように作成する。
    * PHPUnitでテスト可能とすることにより、バグを減らすことが目的。
    * コントローラはPHPUnitでテストできないので、複雑な処理の場合はサービスクラスで処理してテストケースを実施する。



