# 機能（優先度高め）

* 売上管理機能
    管理者画面から売上管理機能の画面を参照できるようにする。
    ３画面用意する。月単位の画面、イベント単位の画面、年単位の画面
    * 売上管理画面
    最初は当月の売上が表示されるように。
    ヘッダーはカレンダーページのヘッダーのように、今月、前月、来月、をリンクで飛ぶ様にする。
    「日付」「イベント名」「参加人数」「売上金額」を表示する。
    表の下に合計金額を表示する。
    イベント名はリンクにし、クリックしたらイベントの詳細画面に飛ぶ様にする。
   
   イベント単位で経費を入力して、粗利（売上 - 経費）を追加

    * 売上統計画面
    月毎の売上を表形式にして、1年分の売上が見れる様にする。
    「対象月」「売上額」「累計金額」を表形式で表示。
    表の下に合計金額を表示。

* お知らせ機能
    システムのメンテナンス、サーバーのメンテナンスの案内などを事前にお知らせできる様にする。
    管理者がお知らせ管理画面から追加し、追加した情報はカレンダーの上の方に表示される様にする。

------------------------------
# 機能（優先度低め）
* ドタキャン問題
    ユーザーをブラックリスト登録できる様にする。
    メールではなく電話番号で対応する。
    →テーブルは対応済み。現状はメールのままで。

* 代表がキャンセルしても同伴者がキャンセルしないパターンの対応
    同伴者が1人だけキャンセルする場合の対応
    →運用でどうにかできる。
    修正ボタンからどう追加、削除できるし、参加者の追加もできる
    
* 管理者画面からの個人の一括予約
    →画面のリンクだけあればいいかな？

* 自動ログイン機能
    メールアドレスとパスワードを表示するのは出来ているが、アクセスした時点でログインした状態を作るのが出来ていない。

* 参加の残り人数
    * 残り何人で△になるかも、システム設定できるようにしたい。
        残り人数で設定するか、全体の割合の２パターンで選べるようにする。
        configテーブルに、人数か割合かの区分と、値を設定できるカラムを追加

* イベント参加画面で同伴者の削除ボタンを、○人目の横に持ってくる
    難しいから優先度低めにする。
    途中の人を削除したとき、○人目の数値を再計算するが結構めんどい。
    →後々Vue.jsで実装するのが簡単？

* 一覧画面は検索機能が欲しい
    ユーザー一覧、イベント一覧、問い合わせ一覧など
    今のデータ件数なら必要性は少ないけど。
    絞り込み、並び替えがあると便利かな？

* メールの送信機能
    イベント単位で、登録者全員にメールを送る機能があると良いな。
    キャンセルした時とか、時間帯を変更したい時などに使える。
    あとは予約時、イベントの前日や数時間前に自動でメールが送られるなどもあったら便利。
    →無料で連携できるメール送信サービスとかないか探して試すとかもアリかも。
    →SendGridってサービスを登録したみたいだが、申請が通ってなくてライブラリが使えない状況。
    再申請を待つしかない。
    
* SNSのAPIと連携して自動で投稿ができるように
    色々めんどそうだけど、面白そうなので後々できたらいいな。

------------------------------
# リファクタリング
* フォルダ構成の変更（リスキーなのでブランチを変更してからやる）
    フォルダ構成を以下のようにする
    * document：仕様書類
    * resource：CSS,JS,imgなど
    * src：PHPのソース
        * controller
        * dao
        * entity
        * service
        * view
    * tests：phpunit関連
    * vendor：composerからインストールしたもの
→composerからsrc配下をautoloadする様にして、requireを簡潔にしたい。

* カレンダーの表示に関するロジック
    データ量とPCのスペックのおかげか体感的に遅くは感じないが、
    ロジック的には結構遅くなりそうな処理で書いているので、できれば月のイベントデータを１発で取得して
    表示するようにできるならそうしたい。
    リスク高そうなのでブランチ分ける方がいいかも。
    優先度は低め。

* フラグ
    DBのフラグ系のカラム、値が0と1だったり、1と2だったり、1と9だったりしている。
    そのうち統一したい。
